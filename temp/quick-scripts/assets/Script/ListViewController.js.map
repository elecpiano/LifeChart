{"version":3,"sources":["ListViewController.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"../../../../assets/Script","sourcesContent":["import GlobalData from \"./Global\";\n\nconst {ccclass, property} = cc._decorator;\n\n@ccclass\nexport default class ListViewController extends cc.Component {\n\n    //#region Property\n\n    // @property(cc.Node)\n    // HomeButton: cc.Node = null;\n    @property(cc.Node)\n    DeleteModeButton: cc.Node = null;\n    @property(cc.Node)\n    CancelDeleteButton: cc.Node = null;\n    // @property(cc.Node)\n    // cancelCompareButton: cc.Node = null;\n    @property(cc.Node)\n    GoBackButton: cc.Node = null;\n\n    // @property(cc.Node)\n    // MultiSelectButton: cc.Node = null;\n    // @property(cc.Node)\n    // CancelMultiSelectButton: cc.Node = null;\n    @property(cc.Node)\n    MultiSelectOKButton: cc.Node = null;\n\n    @property(cc.Node)\n    ItemTemplateNode: cc.Node = null;\n\n    @property(cc.Node)\n    ItemsPanel: cc.Node = null;\n\n    @property(cc.ScrollView)\n    scrollView: cc.ScrollView = null;\n\n    UserData = \"\";\n    UserDataArr = new Array<string>();\n    ItemNodes = new Array<cc.Node>();\n\n    GlobalData:GlobalData = null;\n\n    //#endregion\n    \n    //#region Lifecycle\n\n    onLoad () {\n        this.GoBackButton.active = true;\n\n        let globalNode = cc.director.getScene().getChildByName('GlobalNode');\n        this.GlobalData = globalNode.getComponent(GlobalData);\n        if (this.GlobalData.Compare) {\n            this.DeleteModeButton.active = false;\n            this.CancelDeleteButton.active = false;\n            this.MultiSelectOKButton.active = true;\n        }\n        else{\n            this.DeleteModeButton.active = true;                        \n            this.CancelDeleteButton.active = false;\n            this.MultiSelectOKButton.active = false;\n        }\n    }\n\n    start () {\n        this.node.runAction(cc.sequence(\n            cc.delayTime(0.1),\n            cc.callFunc(()=>this.DoThingsAfterProgress())\n        ));\n        // this.TestNode.getComponent(cc.Button).enabled = false;\n    }\n\n    DoThingsAfterProgress(){\n        this.EnsureUserDataAccess();\n        this.UserData = this.GetUserData();\n        this.UserDataArr = this.UserData.split(\";\");\n        // console.log(\"xxx populate list : \" + this.UserData);\n        this.PopulateList();\n\n        if (this.GlobalData.Compare) {\n            this.MultiSelectMode();\n        }\n    }\n\n    // update (dt) {}\n\n    //#endregion\n\n    //#region Navigation\n\n    GoBack(){\n        cc.director.loadScene(\"MainView\");\n    }\n\n    //#endregion\n\n    //#region List View\n\n    PopulateList(){\n        this.ItemNodes.splice(0,this.ItemNodes.length);\n        let target = this.ItemTemplateNode;\n\n        // let strArr = this.UserData.split(\";\");\n        if (this.UserDataArr.length > 1) {\n            for (let i = 1; i < this.UserDataArr.length; i++){\n                let itemNode = cc.instantiate(target);\n                let lbl = itemNode.getChildByName(\"ItemLabel\").getComponent(cc.RichText);\n                lbl.string = this.UserDataArr[i].split(\" \")[0];\n                \n                let bodyBtn = itemNode.getChildByName(\"ItemLabel\");\n                bodyBtn.getComponent(cc.Button).clickEvents[0].customEventData = this.UserDataArr[i];\n                \n                let btn1 = itemNode.getChildByName(\"btnDelete\");\n                let btn2 = itemNode.getChildByName(\"btnChecked\");\n                let btn3 = itemNode.getChildByName(\"btnUnchecked\");\n\n                btn1.getComponent(cc.Button).clickEvents[0].customEventData = this.UserDataArr[i];\n                btn2.getComponent(cc.Button).clickEvents[0].customEventData = this.UserDataArr[i];\n                btn3.getComponent(cc.Button).clickEvents[0].customEventData = this.UserDataArr[i];\n                    \n                btn1.active = false;\n                btn2.active = false;\n                btn3.active = false;\n\n                this.ItemsPanel.addChild(itemNode);\n                itemNode.x = 0;\n                // itemNode.parent = target.parent;\n                // itemNode.setPosition(column * this.ITEM_WIDTH + this.ITEM_MARGIN_L, 0 - row * this.ITEM_HEIGHT - this.ITEM_MARGIN_T);\n                this.ItemNodes.push(itemNode);\n            }\n        }\n\n        // this.ItemsPanel.y = -9999;\n        this.scrollView.scrollToTop(0.1);\n    }\n\n    //#endregion\n\n    //#region Item Click & delete\n\n    TapItem(event, customEventData){\n        // console.log(\"xxx item tap : \" + customEventData);\n        let param = customEventData.toString();\n\n        if (!this.GlobalData.Compare) {\n            this.GlobalData.ParamList.splice(0,this.GlobalData.ParamList.length);                \n        }\n        this.GlobalData.ParamList.push(param);\n\n        cc.director.loadScene(\"MainView\");\n    }\n\n    DeleteMode(){\n        // this.CancelMultiSelect();\n\n        this.DeleteModeButton.active = false;\n        this.CancelDeleteButton.active = true;\n\n        for (let i = 0; i < this.ItemNodes.length; i++) {\n            let deleteBtn = this.ItemNodes[i].getChildByName(\"btnDelete\");// getComponentInChildren(cc.Button);\n            deleteBtn.active = true;\n        }\n    }\n\n    CancelDelete(){\n        if (!this.GlobalData.Compare) {\n            this.DeleteModeButton.active = true;\n        }\n        this.CancelDeleteButton.active = false;\n\n        for (let i = 0; i < this.ItemNodes.length; i++) {\n            let deleteBtn = this.ItemNodes[i].getChildByName(\"btnDelete\");//getComponentInChildren(cc.Button);\n            deleteBtn.active = false;\n        }\n    }\n\n    DeleteItem(event, customEventData){\n        // console.log(\"xxx item delete : \" + customEventData);\n\n        let idx = 0;\n        while (idx < this.ItemNodes.length) {\n            let btn = this.ItemNodes[idx].getChildByName(\"btnDelete\").getComponent(cc.Button);\n            if (btn.clickEvents[0].customEventData == customEventData) {\n                break;\n            }\n            idx ++;\n        }\n\n        let itemNode = this.ItemNodes.splice(idx,1)[0];\n        this.ItemsPanel.removeChild(itemNode);\n        this.UserDataArr.splice(idx+1,1);\n        \n        this.UserData = \"\";\n        for (let i = 0; i < this.UserDataArr.length; i++) {\n            if (i == (this.UserDataArr.length -1)) {\n                this.UserData += this.UserDataArr[i];                \n            }\n            else{\n                this.UserData += this.UserDataArr[i] + \";\";\n            }\n        }\n\n        this.SaveUserData();\n    }\n\n    //#endregion\n\n    //#region Multi Select\n\n    MultiSelectionParam = new Array<string>();\n    MultiSelectItem(event, customEventData){\n        this.MultiSelectionParam.push(customEventData.toString());\n\n        for (let item of this.ItemNodes) {\n            let uncheckBtn = item.getChildByName(\"btnChecked\");\n            let checkBtn = item.getChildByName(\"btnUnchecked\");\n            if (uncheckBtn.getComponent(cc.Button).clickEvents[0].customEventData == customEventData) {\n                uncheckBtn.active = true;\n                checkBtn.active = false;\n            }\n        }\n    }\n\n    MultiUnselectItem(event, customEventData){\n        let idx = 0;\n        while (idx < this.MultiSelectionParam.length) {\n            if (this.MultiSelectionParam[idx] == customEventData) {\n                this.MultiSelectionParam.splice(idx,1);\n                break;\n            }\n            idx ++;\n        }\n\n        for (let item of this.ItemNodes) {\n            let uncheckBtn = item.getChildByName(\"btnChecked\");\n            let checkBtn = item.getChildByName(\"btnUnchecked\");\n            if (uncheckBtn.getComponent(cc.Button).clickEvents[0].customEventData == customEventData) {\n                uncheckBtn.active = false;\n                checkBtn.active = true;\n            }\n        }\n    }\n\n    MultiSelectMode(){\n        // this.CancelDelete();\n        // this.MultiSelectButton.active = false;\n        // this.CancelMultiSelectButton.active = true;\n        this.MultiSelectOKButton.active = true;\n\n        for (let i = 0; i < this.ItemNodes.length; i++) {\n            let uncheckBtn = this.ItemNodes[i].getChildByName(\"btnChecked\");\n            let checkBtn = this.ItemNodes[i].getChildByName(\"btnUnchecked\");\n            checkBtn.active = true;\n        }\n    }\n\n    CancelMultiSelect(){\n        // this.MultiSelectButton.active = true;\n        // this.CancelMultiSelectButton.active = false;\n        // this.MultiSelectOKButton.active = false;\n\n        for (let i = 0; i < this.ItemNodes.length; i++) {\n            let uncheckBtn = this.ItemNodes[i].getChildByName(\"btnChecked\");\n            let checkBtn = this.ItemNodes[i].getChildByName(\"btnUnchecked\");\n            uncheckBtn.active = false;\n            checkBtn.active = false;\n        }\n\n        this.MultiSelectionParam.splice(0, this.MultiSelectionParam.length);\n    }\n\n    MultiSelectOK(){\n        if (!this.GlobalData.Compare) {\n            this.GlobalData.ParamList.splice(0,this.GlobalData.ParamList.length);                \n        }\n\n        for (let param of this.MultiSelectionParam) {\n            this.GlobalData.ParamList.push(param);            \n        }\n\n        cc.director.loadScene(\"MainView\");\n    }\n\n    //#endregion\n\n    //#region Compare\n\n    CancelCompare(){\n        cc.director.loadScene(\"MainView\");\n    }\n\n    //#endregion\n\n    //#region WX Data API\n\n    EnsureUserDataAccess(){\n        // if (cc.sys.platform === cc.sys.WECHAT_GAME) {\n        // }\n        let fs = wx.getFileSystemManager();\n        let data = null;\n        try {\n            data = fs.readFileSync(`${wx.env.USER_DATA_PATH}/userdata.txt`, 'utf8');        \n        }catch(error){\n        }\n\n        if (data == null) {\n            fs.writeFileSync(`${wx.env.USER_DATA_PATH}/userdata.txt`, 'initial', 'utf8');\n        }\n    }\n\n    GetUserData():string{\n        let fs = wx.getFileSystemManager();\n        let data = null;\n        try {\n            data = fs.readFileSync(`${wx.env.USER_DATA_PATH}/userdata.txt`, 'utf8');        \n        }catch(error){\n        }\n\n        // console.log(\"xxx get user data : \" + data);\n\n        return data;\n    }\n\n    SaveUserData(){\n        let str = this.UserData;\n\n        let fs = wx.getFileSystemManager();\n        fs.writeFileSync(`${wx.env.USER_DATA_PATH}/userdata.txt`, str, 'utf8');\n        // console.log(\"xxx save user data : \" + str);\n    }\n\n    //#endregion\n\n\n}\n"]}